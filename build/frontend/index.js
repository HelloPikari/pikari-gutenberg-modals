(()=>{"use strict";var e,n={841:()=>{const e=".has-modal-link, .modal-link-trigger",n=".modal-close",t="is-open",o="Escape",a="Enter",r=" ",d="open-modal",l="listenersAdded";function s(a){const r=a.target.closest(e);if(!r)return;a.preventDefault();const s=r.dataset.modalContentType,i=r.dataset.modalContentId;var u;s&&i?(u={contentType:s,contentId:i},"undefined"!=typeof Alpine?function(e){window.dispatchEvent(new CustomEvent(d,{detail:e}))}(u):async function(e){let a=document.getElementById("pikari-modal");a||(a=function(){const e=document.createElement("div");return e.id="pikari-modal",e.className="modal-overlay",e.innerHTML='\n        <div class="modal-content">\n            <button class="modal-close" aria-label="Close modal">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <div class="modal-body">\n                \x3c!-- Content will be loaded here --\x3e\n            </div>\n        </div>\n    ',e}(),document.body.appendChild(a));const r=a.querySelector(".modal-body");if(r){r.innerHTML='<div class="modal-loading">Loading...</div>',function(e){e.style.display="flex",e.classList.add(t);const o=e.querySelector(n);o&&o.focus()}(a);try{const n=window.pikariModalsData?.apiUrl||"/wp-json/pikari-gutenberg-modals/v1/modal-content/",t=await fetch(`${n}${e.contentId}`),o=await t.json();if(!t.ok)throw new Error(o.message||"Failed to load content");const a=["modal-entry",`type-${o.type}`,`post-${o.id}`].join(" ");r.innerHTML=`\n            ${o.styles?`<style>${o.styles}</style>`:""}\n            <article class="${a}">\n                <header class="modal-entry-header">\n                    <h2>${function(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML}(o.title)}</h2>\n                </header>\n                <div class="modal-entry-content">\n                    ${o.content}\n                </div>\n            </article>\n        `}catch(e){console.error("Error loading modal content:",e),r.innerHTML='<div class="modal-error">Error loading content. Please try again.</div>'}a.dataset[l]||function(e){e.dataset[l]="true",e.addEventListener("click",n=>{n.target===e&&c(e)});const a=e.querySelector(n);a&&a.addEventListener("click",()=>{c(e)});const r=function(e){return n=>{n.key===o&&e.classList.contains(t)&&c(e)}}(e);e._escapeHandler=r,document.addEventListener("keydown",r)}(a)}else console.error("Modal body not found")}(u)):console.warn("Modal trigger missing content data:",r)}function i(n){const{key:t,target:o}=n;if(t!==a&&t!==r)return;const d=o.closest(e);d&&"SPAN"===d.tagName&&(n.preventDefault(),d.click())}function c(n){n.style.display="none",n.classList.remove(t),n._escapeHandler&&(document.removeEventListener("keydown",n._escapeHandler),delete n._escapeHandler);const o=n.querySelector(".modal-body");o&&(o.innerHTML=""),function(){const n=document.querySelectorAll(e),t=Array.from(n).find(e=>e===e.ownerDocument.activeElement);t&&t.focus()}()}document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",s),document.addEventListener("keydown",i)})}},t={};function o(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.m=n,e=[],o.O=(n,t,a,r)=>{if(!t){var d=1/0;for(c=0;c<e.length;c++){for(var[t,a,r]=e[c],l=!0,s=0;s<t.length;s++)(!1&r||d>=r)&&Object.keys(o.O).every(e=>o.O[e](t[s]))?t.splice(s--,1):(l=!1,r<d&&(d=r));if(l){e.splice(c--,1);var i=a();void 0!==i&&(n=i)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,a,r]},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={854:0,490:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var a,r,[d,l,s]=t,i=0;if(d.some(n=>0!==e[n])){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(s)var c=s(o)}for(n&&n(t);i<d.length;i++)r=d[i],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},t=globalThis.webpackChunkpikari_gutenberg_modals=globalThis.webpackChunkpikari_gutenberg_modals||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var a=o.O(void 0,[490],()=>o(841));a=o.O(a)})();